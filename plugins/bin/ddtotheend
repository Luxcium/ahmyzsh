new tools anf unctions#!/bin/zsh

{
  function ddsoft() {
    (
      sudo ionice -c 3 nice -n 35 dd if=/dev/zero of=/dev/null &
    )
  }

  function ddhard() {
    (
      sudo ionice -c 1 -n 0 nice -n -35 dd if=/dev/zero of=/dev/null &
    )
  }

  function ddsoft5() {
    (
      ddsoft
      ddsoft
      ddsoft
      ddsoft
      ddsoft
    )
  }

  function ddhard5() {
    (
      ddhard
      ddhard
      ddhard
      ddhard
      ddhard
    )
  }
}

echo -e '\n   TEST #1'

(
  echo 'Will test DDSOFT x5 for 5 sec'
  echo 'start for 5 seconds'
  (

    ddsoft5 &

  )
  sleep 5
  sudo killall dd
  echo '---'
)

(
  echo 'Will test DDHARD x5 for 5 sec'
  echo 'start for 5 seconds'
  (

    ddhard5 &

  )
  sleep 5
  sudo killall dd
  echo '---'
)

echo -e '\n   TEST #2'

(
  echo 'Will test DDSOFT x10 for 10 sec'
  echo 'start for 10 seconds'
  (

    ddsoft5 &
    ddsoft5 &

  )
  sleep 10
  sudo killall dd
  echo '---'
)

(
  echo 'Will test DDHARD x10 for 10 sec'
  echo 'start for 10 seconds'
  (

    ddhard5 &
    ddhard5 &

  )
  sleep 10
  sudo killall dd
  echo '---'
)

echo -e '\n   TEST #3'

(

  sleep 20
  sudo killall dd
  echo '---'
  echo 'Will test DDSOFT x20 for 20 sec'
  sleep 10
  echo 'start for 20 seconds'
  (

    sleep 20
    sudo killall dd
    echo '---'
    ddsoft5 &
    ddsoft5 &

  )

  sleep 20
  sudo killall dd
  echo '---'
)

(
  echo 'Will test DDHARD x20 for 20 sec'
  sleep 10
  echo 'start for 20 seconds'
  (

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

  )
  sleep 20
  sudo killall dd
  echo '---'
)

(
  echo 'Will test DDSOFT x20 for 30 sec'
  sleep 10
  echo 'start for 20 seconds'
  (

    ddsoft5 &
    ddsoft5 &

    ddsoft5 &
    ddsoft5 &

  )

  sleep 30
  sudo killall dd
  echo '---'
)

(
  echo 'Will test DDHARD x20 for 25 sec'
  sleep 10
  echo 'start for 20 seconds'
  (

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

  )
  sleep 25
  sudo killall dd
  echo '---'
)

(
  echo 'Will test DDSOFT x20 for 40 sec'
  sleep 10
  echo 'start for 20 seconds'
  (

    ddsoft5 &
    ddsoft5 &

    ddsoft5 &
    ddsoft5 &

  )

  sleep 40
  sudo killall dd
  echo '---'
)

echo -e '\n   TEST #4 a'

(
  echo 'Will test DDHARD x30 for 5 sec'
  sleep 10
  echo 'start for 5 seconds'
  (

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

  )
  sleep 5
  sudo killall dd
  echo '---'
)
echo -e '\n   TEST #4 b'

(
  echo 'Will test DDHARD x40 for 5 sec'
  sleep 10
  echo 'start for 5 seconds'
  (

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

  )
  sleep 5
  sudo killall dd
  echo '---'
)

echo -e '\n   TEST #4 c'

(
  echo 'Will test DDHARD x50 for 5 sec'
  sleep 10
  echo 'start for 5 seconds'
  (

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

  )
  sleep 5
  sudo killall dd
  echo '---'
)

echo -e '\n   TEST #4 d'

(
  echo 'Will test DDHARD x60 for 5 sec'
  sleep 10
  echo 'start for 5 seconds'
  (

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

    ddhard5 &
    ddhard5 &

  )
  sleep 5
  sudo killall dd
  echo '---'
)
echo 'DONE !!!'
echo 'DONE !!!'
echo 'DONE !!!'
echo --------------------
exit 0

echo 'test #9 15x ddhard for 30 sec'
(
  ddhard5 &
  ddhard5 &

  ddhard5 &
) && sleep 40
sudo killall dd

echo 'test #10 15x ddsoft for 30 sec'
(
  ddhard5 &
  ddhard5 &

  ddhard5 &
) && sleep 40
sudo killall dd

echo 'test #11 20x ddhard for 30 sec'
(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 40
sudo killall dd

echo 'test #12 20x ddsoft for 30 sec'
(
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &
) && sleep 40
sudo killall dd

echo 'test #13 a) 25x ddhard for 10 sec'
(
  ddhard5 &
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 20
sudo killall dd

echo 'test #13 b) 30x ddhard for 10 sec'
(
  ddhard5 &
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
  ddhard5 &
) && sleep 20
sudo killall dd

echo 'test #13 c) 35x ddhard for 10 sec'
(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
) && sleep 20
sudo killall dd

echo 'test #13 d) 40x ddhard for 10 sec'
(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 20
sudo killall dd

echo 'test #14 25x ddsoft for 20 sec'
(
  ddsoft5 &
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &
) && sleep 30
sudo killall dd

echo 'test #15 25x ddsoft for 30 sec'
(
  ddsoft5 &
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &
) && sleep 40
sudo killall dd

echo 'test #16 25x ddsoft for 40 sec'
(
  ddsoft5 &
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &
) && sleep 50
sudo killall dd

echo 'test #17 25x ddsoft for 50 sec'
(
  ddsoft5 &
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &
) && sleep 60
sudo killall dd

echo 'test #18 25x ddsoft for 60 sec'
(
  ddsoft5 &
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &
) && sleep 70
sudo killall dd

echo 'test #19 30x ddsoft for 60 sec'
(
  ddsoft5 &
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &
  ddsoft5 &
) && sleep 70
sudo killall dd
echo 'test #20 35x ddsoft for 60 sec'
(
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
) && sleep 70
sudo killall dd

echo 'test #21 40x ddsoft for 60 sec'
(
  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &

  ddsoft5 &
  ddsoft5 &
) && sleep 70
sudo killall dd

echo 'test #22 40x ddhard for 15 sec'
(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 25
sudo killall dd

echo 'test #23 40x ddhard for 20 sec'
(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 25
sudo killall dd

echo 'test #24  40x ddhard for 25 sec'
(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 35
sudo killall dd

echo 'test #25  40x ddhard for 30 sec'

(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 40
sudo killall dd

echo 'test #26  40x ddhard for 35 sec'

(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 45
sudo killall dd

echo 'test #27  40x ddhard for 40 sec'

(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 50
sudo killall dd

echo 'test #28  40x ddhard for 45 sec'

(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 55
sudo killall dd

echo 'test #29  40x ddhard for 50 sec'

(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

) &&
  sleep 60
sudo killall dd

echo 'test #30  40x ddhard for 55 sec'

(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 65
sudo killall dd

echo 'test #31  40x ddhard for 60 sec'

(
  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &

  ddhard5 &
  ddhard5 &
) && sleep 70
sudo killall dd

echo 'completed !!!'
echo 'completed !!!'
echo 'completed !!!'
exit 0
