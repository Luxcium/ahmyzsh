"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var express_1 = tslib_1.__importDefault(require("express"));
var addMiddleweare_1 = require("./addMiddleweare");
var addRoutes_1 = require("./addRoutes");
var addListener_1 = require("./addListener");
var dataConnection_1 = require("./dataConnection");
var START_SERVER = (function (app) { return function () {
    dataConnection_1.dataConnection.connect(function (db) {
        addMiddleweare_1.addMiddleware(app)(db);
        addRoutes_1.addRoutes(app)(db);
        addListener_1.addListener(app)(db);
    });
}; })(express_1.default());
exports.START_SERVER = START_SERVER;
exports.default = START_SERVER;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi9zZXJ2ZXIvIiwic291cmNlcyI6WyJzdGFydFNlcnZlci9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSw0REFBOEI7QUFFOUIsbURBQWlEO0FBQ2pELHlDQUF3QztBQUN4Qyw2Q0FBNEM7QUFDNUMsbURBQWtEO0FBTWxELElBQU0sWUFBWSxHQUFHLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQTtJQUMzQiwrQkFBYyxDQUFDLE9BQU8sQ0FBQyxVQUFBLEVBQUU7UUFHdkIsOEJBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUl2QixxQkFBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBSW5CLHlCQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFHdkIsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLEVBaEI0QixDQWdCNUIsQ0FBQyxDQUFDLGlCQUFPLEVBQUUsQ0FBQyxDQUFDO0FBRUwsb0NBQVk7QUFDckIsa0JBQWUsWUFBWSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXQgKi9cblxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5cbmltcG9ydCB7IGFkZE1pZGRsZXdhcmUgfSBmcm9tICcuL2FkZE1pZGRsZXdlYXJlJztcbmltcG9ydCB7IGFkZFJvdXRlcyB9IGZyb20gJy4vYWRkUm91dGVzJztcbmltcG9ydCB7IGFkZExpc3RlbmVyIH0gZnJvbSAnLi9hZGRMaXN0ZW5lcic7XG5pbXBvcnQgeyBkYXRhQ29ubmVjdGlvbiB9IGZyb20gJy4vZGF0YUNvbm5lY3Rpb24nO1xuXG4vKlxuLy8gTmVCXzQwMS5DT1JQIExURUUgLS0gwqkgwqkgMjAxOH4yMDE5LS0gQmVuamFtaW4gVmluY2VudCBLYXNhcG9nbHVcbiovXG4vLyBjb25zdCBkYiA9ICcnO1xuY29uc3QgU1RBUlRfU0VSVkVSID0gKGFwcCA9PiAoKSA9PiB7XG4gIGRhdGFDb25uZWN0aW9uLmNvbm5lY3QoZGIgPT4ge1xuICAgIC8vXG4gICAgLy8gYWRkIG1pZGRsZXdhcmVzXG4gICAgYWRkTWlkZGxld2FyZShhcHApKGRiKTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy8gYWRkIExVWENJVU1fUk9VVEVSXG4gICAgYWRkUm91dGVzKGFwcCkoZGIpO1xuICAgIC8vXG4gICAgLy9cbiAgICAvLyBzdGFydCBsaXN0ZW5pbmcgb24gcG9ydCBzcGVjaWZpZWQgaW4gdGhlIGNvZmlndXJhdGlvbiAuLi5cbiAgICBhZGRMaXN0ZW5lcihhcHApKGRiKTtcbiAgICAvL1xuICAgIC8vXG4gIH0pO1xufSkoZXhwcmVzcygpKTtcblxuZXhwb3J0IHsgU1RBUlRfU0VSVkVSIH07XG5leHBvcnQgZGVmYXVsdCBTVEFSVF9TRVJWRVI7XG5cbi8qXG4vLyBOZUJfNDAxLkNPUlAgTFRFRSAtLSDCqSAyMDE4fjIwMTkgLS0gQmVuamFtaW4gVmluY2VudCBLYXNhcG9nbHVcbiovXG4iXX0=