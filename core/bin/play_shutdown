#!/usr/bin/env sh

# core/bin/play_shutdown

function play_shutdown_() {
  # #region play_shutdown_ =====================================================ยน
  (

    source $HOME/ahmyzsh/core/aliases/12012-ALS-sounds.sh
    play -qv 0.9 /home/luxcium/.local/share/sounds/smooth/stereo/desktop-login.oga

    sleep "${2:-0.1}"

    if [ "${1:-''}" == "reboot" ]; then
      sudo /sbin/shutdown -t 10 -rf now
      return
    fi

    if [ "${1:-''}" == "shutdown" ]; then
      sudo /sbin/shutdown -t 10 -hf now
      return
    fi
    echo "${1} is not a valid option try play_shutdown <reboot|shutdown> [TIME (play duration in seconds default  is 4sec)]"
  )

  # #endregion play_shutdown_ ==================================================ยน
}

## Extra code make it easy to copy paste only the function out to use elsewhere
play_shutdown_ "${@}"

__EXIT_STATUS="${?}"

unset -f play_shutdown_

exit $__EXIT_STATUS
