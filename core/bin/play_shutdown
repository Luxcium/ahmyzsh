#!/usr/bin/env sh

# core/bin/play_shutdown

function play_shutdown_() {
  # #region play_shutdown_ =====================================================ยน
  (
    play -qv 0.25 /usr/share/sounds/deepin/stereo/system-shutdown.wav &
    sleep "${2:-4}"

    if [ "${1:-''}" == "reboot" ]; then
      echo "# sudo /sbin/shutdown -t 10 -rf (${1})"
      return
    fi

    if [ "${1:-''}" == "shutdown" ]; then
      echo "# sudo /sbin/shutdown -t 10 -h (${1})"
      return
    fi
    echo "${1} is not a valid option try play_shutdown <reboot|shutdown> [TIME (play duration in seconds default  is 4sec)]"
  )

  # #endregion play_shutdown_ ==================================================ยน
}

## Extra code make it easy to copy paste only the function out to use elsewhere
play_shutdown_ "${@}"

__EXIT_STATUS="${?}"

unset -f play_shutdown_

exit $__EXIT_STATUS
